<!DOCTYPE html>

<html lang="en-gb">

<head>
  <meta charset=UTF-8>
  <meta content="width=device-width" name="viewport">
  <title>Fixing HTML element references (IDREFs) on the Web</title>
  <link rel="stylesheet" href="../Templates/slides.css">
  <!-- To use the b6+ framework, include this: -->
  <script src="../Templates/b6plus.js"></script>
  <!-- To use the Shower framework, remove b6plus above and add these two: -->
  <!-- <script src="../Templates/shower.js"></script>       -->
  <!-- <script src="../Templates/iframe-fixup.js"></script> -->
  <style>
    .slide:has(img.fit) h2 {
      background: var(--long-comment-bg);
      width: fit-content;
      padding: 0.5em;
      border: 0.05em solid var(--h1-h2-fg);
    }

    .slide:has(img.fit) figcaption {
      position: absolute;
      bottom: 1rem;
      right: 1rem;
    }

    .slide:has(img.fit) a {
      background: var(--long-comment-bg);
      width: fit-content;
      padding: 0.5em;
      border: 0.05em solid var(--link-fg);
    }

    .slide:has(img.fit) a:visited {
      border: 0.05em solid var(--visited-link-fg);
    }

    .huge {
      font-size: 2rem;
    }
  </style>
</head>

<body class="shower fade-in duration=15 hidemouse">

  <!-- Remove this element if you don't want a progress bar: -->
  <div class=progress></div>

  <!-- Remove this element if you don't want the remaining time in
       index mode and on the 2nd screen. If you keep it, you may want
       to add the class "duration=n" on BODY, where n is the initial
       number of minutes on the clock. Default is 30. -->
  <div class=clock></div>

  <!-- Alternative: Show also real time and elapsed time. -->
  <!-- <div class=fullclock></div> -->

  <!-- What a screen reader should say on leaving slide mode,
       instead of the default ‘Stopped.’ -->
  <div role=region aria-live=assertive>
    Leaving slide mode.
  </div>


  <section class="slide cover clear" id="cover">
    <h1>Fixing HTML element references (IDREFs) on the Web</h1>
    <address>%%Author%%</address>
    <p class=event>TPAC 2025<br>
      Kobe, Japan &amp; online<br>
      10–14 November 2025</p>
  </section>

  <section class=comment>
    <p>Notes for slide 1 can be put here.</p>
  </section>


  <section class="slide" id="goals">
    <h2>Goals</h2>
    <ul>
      <li class=next>(Roughly) describe the problem</li>
      <li class=next>Sketch some possible solutions</li>
      <li class=next>Main part: discussion
        <ul>
          <li class=next>Concerns, questions, research needed</li>
          <li class=next>Work towards consensus on the above</li>
        </ul>
      </li>
    </ul>
  </section>


  <section class="slide" id="non-goals">
    <h2>Non-goals</h2>
    <ul>
      <li class=next>Find <em>the</em> solution</li>
      <li class=next>Fully flesh out the use case(s) and concerns</li>
    </ul>
  </section>


  <section class="slide" id="lists">
    <h2>Detailed Overview</h2>
    <ul>
      <li>Fixing?
        <ul>
          <li>What are the pain points?</li>
          <li>Our thoughts on what they may be</li>
        </ul>
      </li>
      <li>Ideas</li>
      <li>Concerns</li>
      <li>Research</li>
    </ul>
  </section>


  <section class="slide slide-in">
    <h2>Gaps</h2>
    <figure>
      <img src="gaps.png" alt="Issues list of the TAG's web platform gaps repo" class=fit>
      <figcaption>
        <a href="https://github.com/w3ctag/gaps/issues">https://github.com/w3ctag/gaps/issues</a>
      </figcaption>
    </figure>
  </section>

  <section class=comment>
    <p>Please file issues on the repo to talk about gaps you've noticed!</p>
  </section>


  <section class="slide slide-in">
    <h2>IDREFs gap</h2>
    <figure>
      <img src="idrefs-gap.png" alt="IDREFs issue in the TAG's web platform gaps repo" class=fit>
      <figcaption>
        <a href="https://github.com/w3ctag/gaps/issues/2">https://github.com/w3ctag/gaps/issues/2</a>
      </figcaption>
    </figure>
  </section>


  <section class="slide">
    <h2>General concerns</h2>
    <div class=columns>
      <div>
        <h3>DX</h3>
        <ul>
          <li>Reducing the pain points.
            <ul>
              <li>Identifying the right pain points.</li>
            </ul>
          </li>
          <li>Wide applicability.</li>
        </ul>
      </div>
      <div>
        <h3>UX/Accessibility</h3>
        <ul>
          <li>Complexity required in engine if backreferences are needed.</li>
          <li>Performance hit.</li>
          <li>Fragility of approach.</li>
        </ul>
      </div>
    </div>
  </section>


  <section class=slide>
    <h2>Some approaches&hellip;</h2>
    <p>The following sections outline <em>some</em> possible solutions.</p>
  </section>


  <section class="slide">
    <h2>Keep using existing tooling for scoping</h2>
    <p>Don't add anything; just use existing tools such as React's <code>useId</code> et al to solve the problem.</p>
    <div class=columns>
      <div>
        <h3>Pros</h3>
        <ul>
          <li>No changes needed to UA or AT code; no performacne burden.</li>
        </ul>
      </div>
      <div>
        <h3>Cons</h3>
        <ul>
          <li>May not adequately solve the problem?</li>
        </ul>
      </div>
    </div>
  </section>


  <section class="slide">
    <h2>Scoping via an attribute or element</h2>
    <p>Use an attribute or element to define regions of the DOM within which IDREFs must be unique.</p>
    <div class=columns>
      <div>
        <h3>Pros</h3>
        <ul>
          <li>Relatively simple authoring change</li>
          <li>Wide applicability</li>
        </ul>
      </div>
      <div>
        <h3>Cons</h3>
        <ul>
          <li>UA/AT has to track backreferences (development burden)</li>
          <li>UA/AT has to track DOM manipulations (performance burden)</li>
        </ul>
      </div>
    </div>
  </section>


  <section class="slide">
    <h2>Unique ID generation in templates</h2>
    <p>Provide platform-native feature to ensure unique IDREFs are genrated, but only in <code>&lt;template&gt;</code>
      elements.</p>
    <div class=columns>
      <div>
        <h3>Pros</h3>
        <ul>
          <li>Only the parser needs to change (no need to deal with backreferences).</li>
        </ul>
      </div>
      <div>
        <h3>Cons</h3>
        <ul>
          <li>Feature not available across the platform</li>
        </ul>
      </div>
    </div>
  </section>


  <section class="slide">
    <h2>Relative element pointers</h2>
    <p>Use CSS selectors to refer to elements based on DOM structure.</p>
    <p>FIXME example</p>
    <div class=columns>
      <div>
        <h3>Pros</h3>
        <ul>
          <li>No need to make up IDs</li>
        </ul>
      </div>
      <div>
        <h3>Cons</h3>
        <ul>
          <li>Fragile/unstable for accessibility?</li>
          <li>Complex to interprest?</li>
          <li>Applicability to HTML in the wild?</li>
        </ul>
      </div>
    </div>
  </section>


  <section class=slide>
    <h2>Some questions&hellip;</h2>
  </section>


  <section class=slide>
    <p class=huge>What are the pain points?</p>
  </section>

  <section class=slide>
    <p class=huge>What are the pain points?</p>
  </section>

  <section class=slide>
    <p class=huge>Is the problem <em>generation</em> of IDs, or communication <em>accross component boundaries</em> of
      the IDs?</p>
  </section>

  <section class=slide>
    <p class=huge>Would you find relative references useful?</p>
  </section>

  <section class=slide>
    <p class=huge>What are the (UA, AT) development costs?</p>
  </section>

  <section class=slide>
    <p class=huge>Could devtools or offline tooling be improved to help the problem?</p>
  </section>

  <section class=slide>
    <p class=huge>What are the performance costs?</p>
  </section>

  <section class=slide>
    <p class=huge>How would any particular change benefit users?</p>
  </section>

  <section class=slide>
    <h2>Research</h2>
    <p class=next>We need to do research to identify the problems. That starts with <em>you</em>!</p>
    <p class=next>How can we ensure that the reseach is effective?</p>
    <p class=next>Can you help?</p>
    <p class=next>Some experiences of developers we've collected&hellip;</p>
  </section>


  <section class=slide>
    <h2>Excerpts from the HedgeDoc</h2>
    <p>FIXME: Here I would put some quotes from the HedgeDoc.</p>
  </section>


  <section class=slide>
    <h2>Discussion time!</h2>
    <p>Some points to consdier&hellip;</p>
    <ul>
      <li>Our goal is to come to consensus on the problem space, which may need more research.</li>
      <li>If you have experience that expands or constrains the problem space, please let us know.</li>
      <li>If you have suggestions for research questions, or can help with research, please let us know.</li>
    </ul>
  </section>


  <section class=slide>
    <h2>Thank you!</h2>
    <p>Thank you for participating. Here are some ways you can stay in touch and involved&hellip;</p>
    <ul>
      <li>FIXME</li>
      <li>FIXME</li>
      <li>FIXME</li>
    </ul>
  </section>


  <section class=slide>
    <h2>Reference info</h2>
    <ul>
      <li><a href="https://github.com/webplatformco/explainers/blob/main/html-element-references/README.md">Explainer
          for the proposal</a></li>
      <li><a href="https://github.com/whatwg/html/issues/10143">WHATWG GitHub thread</a>
        <ul>
          <li><a href="https://github.com/whatwg/html/issues/10143#issuecomment-3175870635">Sarah's summary</a></li>
          <li><a href="https://github.com/whatwg/html/issues/10143#issuecomment-3195739405">Alice's summary</a></li>
        </ul>
      </li>
      <li><a href="https://notes.igalia.com/XlsPwU5sQfuaWYHwhtBMtA">Feedback on IDREF questions</a>&mdash;document
        containing some questions for developers, and some answers from developers.</li>
      <li><a href="https://www.w3.org/2025/10/15-apa-minutes.html">Minutes from <abbr
            title="Accessible Platform Architectures">APA</abbr> WG call</a></li>
    </ul>
  </section>


  <footer class="long comment">
    <address>FIXME</address>
  </footer>
</body>

</html>
